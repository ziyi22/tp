<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.3.0">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>Tutorial: Removing Fields - EffiTrack</title> <link rel="stylesheet" href="/tp/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/tp/markbind/fontawesome/css/all.min.css"> <link rel="stylesheet" href="/tp/markbind/glyphicons/css/bootstrap-glyphicons.min.css"><link rel="stylesheet" href="/tp/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/tp/markbind/css/markbind.min.css"><script src="/tp/markbind/js/polyfill.min.js"></script>
    <script src="/tp/markbind/js/vue.min.js"></script>
    <script src="/tp/markbind/js/markbind.min.js"></script>
    <script src="RemovingFields.page-vue-render.js"></script><link rel="stylesheet" href="/tp/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/tp/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/tp/stylesheets/main.css">
<link rel="icon" href="/tp/images/SeEduLogo.png"></head>
<script>
  const baseUrl = '/tp'
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-73b4aa16><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-73b4aa16><div class="container-fluid" data-v-73b4aa16><div class="navbar-left" data-v-73b4aa16><a href="/tp/index.html" title="Home" class="navbar-brand" data-v-73b4aa16>EffiTrack</a></div> <div class="navbar-default" data-v-73b4aa16><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-73b4aa16> <li data-v-73b4aa16><a href="/tp/index.html" class="nav-link" data-v-73b4aa16>Home</a></li> <li data-v-73b4aa16><a href="/tp/UserGuide.html" class="nav-link" data-v-73b4aa16>User Guide</a></li> <li data-v-73b4aa16><a href="/tp/DeveloperGuide.html" class="nav-link" data-v-73b4aa16>Developer Guide</a></li> <li data-v-73b4aa16><a href="/tp/AboutUs.html" class="nav-link" data-v-73b4aa16>About Us</a></li> <li data-v-73b4aa16><a href="https://github.com/se-edu/addressbook-level3" target="_blank" class="nav-link" data-v-73b4aa16><span data-v-73b4aa16><span aria-hidden="true" class="fab fa-github" data-v-73b4aa16></span></span></a></li></ul></div> <ul class="navbar-nav navbar-right" data-v-73b4aa16><li data-v-73b4aa16><form class="navbar-form" data-v-73b4aa16><div class="dropdown" style="position:relative;" data-v-01e11c9b><input data-bs-toggle="dropdown" type="text" placeholder="Search" autocomplete="off" value="" class="form-control" data-v-01e11c9b> <div class="form-control placeholder-div-hidden" data-v-01e11c9b>
      Search
    </div> <ul class="dropdown-menu search-dropdown-menu d-none dropdown-menu-end" data-v-01e11c9b></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-73b4aa16><!----> <!----></div></div></header> <div id="flex-body"><nav id="site-nav" data-v-e6005420><div class="site-nav-top" data-v-e6005420><div class="fw-bold mb-2" style="font-size:1.25rem;" data-v-e6005420>Site Map</div></div> <div class="nav-component slim-scroll" data-v-e6005420><div class="site-nav-root"><ul class="site-nav-list site-nav-list-root" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/tp/index.html" data-v-e6005420>Home</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/tp/UserGuide.html" data-v-e6005420>User Guide</a> <div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/UserGuide.html#quick-start" data-v-e6005420>Quick Start</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/UserGuide.html#features" data-v-e6005420>Features</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/UserGuide.html#faq" data-v-e6005420>FAQ</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/UserGuide.html#faq" data-v-e6005420>Command Summary</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/tp/DeveloperGuide.html" data-v-e6005420>Developer Guide</a> <div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/DeveloperGuide.html#acknowledgements" data-v-e6005420>Acknowledgements</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/DeveloperGuide.html#setting-up-getting-started" data-v-e6005420>Setting Up</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/DeveloperGuide.html#design" data-v-e6005420>Design</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/DeveloperGuide.html#implementation" data-v-e6005420>Implementation</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/DeveloperGuide.html#documentation-logging-testing-configuration-dev-ops" data-v-e6005420>Documentation, logging, testing, configuration, dev-ops</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/DeveloperGuide.html#appendix-requirements" data-v-e6005420>Appendix: Requirements</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/DeveloperGuide.html#appendix-instructions-for-manual-testing" data-v-e6005420>Appendix: Instructions for manual testing</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420>Tutorials

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/tutorials/TracingCode.html" data-v-e6005420>Tracing code</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/tutorials/AddRemark.html" data-v-e6005420>Adding a command</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/tp/tutorials/RemovingFields.html" data-v-e6005420>Removing Fields</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/tp/AboutUs.html" data-v-e6005420>About Us</a></div></li> <!----></ul></div></div> <!----></nav> <div id="content-wrapper"><h1 id="tutorial-removing-fields">Tutorial: Removing Fields<a href="#tutorial-removing-fields" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <blockquote><p>Perfection is achieved, not when there is nothing more to add, but when there is nothing left to take away.</p> <p>â€”  Antoine de Saint-Exupery</p></blockquote> <p>When working on an existing code base, you will most likely find that some features that are no longer necessary.
This tutorial aims to give you some practice on such a code 'removal' activity by removing the <code class="hljs inline no-lang">address</code> field from <code class="hljs inline no-lang">Person</code> class.</p> <div class="alert box-container alert-success" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><div class="icon-wrapper" data-v-4d146e2c><i class="fas fa-check" data-v-4d146e2c></i></div> <!----> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><strong data-v-4d146e2c>If you have done the <a href="/tp/tutorials/AddRemark.html" data-v-4d146e2c>Add <code class="hljs inline no-lang" data-v-4d146e2c>remark</code> command tutorial</a>  already</strong>, you should know where the code had to be updated to add the field <code class="hljs inline no-lang" data-v-4d146e2c>remark</code>. From that experience, you can deduce where the code needs to be changed to <em data-v-4d146e2c>remove</em> that field too. The removing of the <code class="hljs inline no-lang" data-v-4d146e2c>address</code> field can be done similarly.
<br data-v-4d146e2c> <br data-v-4d146e2c>
However, if you have no such prior knowledge, removing a field can take a quite a bit of detective work. This tutorial takes you through that process. <strong data-v-4d146e2c>At least have a read even if you don't actually do the steps yourself.</strong></p></div> <!----></div></div></div> <h2 id="safely-deleting-address">Safely deleting <code class="hljs inline no-lang">Address</code><a href="#safely-deleting-address" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>IntelliJ IDEA provides a refactoring tool that can identify <em>most</em> parts of a removal easily. Letâ€™s try to use it as much as we can.</p> <h3 id="assisted-refactoring">Assisted refactoring<a href="#assisted-refactoring" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>The <code class="hljs inline no-lang">address</code> field in <code class="hljs inline no-lang">Person</code> is actually an instance of the <code class="hljs inline no-lang">seedu.address.model.person.Address</code> class. Since removing the <code class="hljs inline no-lang">Address</code> class will break the application, we start by identifying <code class="hljs inline no-lang">Address</code>'s usages. This allows us to see code that depends on <code class="hljs inline no-lang">Address</code> to function properly and edit them on a case-by-case basis. Right-click the <code class="hljs inline no-lang">Address</code> class and select <code class="hljs inline no-lang">Refactor</code> &gt; <code class="hljs inline no-lang">Safe Delete</code> through the menu.</p> <ul><li>ðŸ’¡ To make things simpler, you can unselect the options <code class="hljs inline no-lang">Search in comments and strings</code> and <code class="hljs inline no-lang">Search for text occurrences</code></li></ul> <p><a href="/tp/images/remove/UnsafeDelete.png" target="_self"><img src="/tp/images/remove/UnsafeDelete.png" alt="Usages detected" class="img-fluid"></a></p> <p>Choose to <code class="hljs inline no-lang">View Usages</code> and you should be presented with a list of <code class="hljs inline no-lang">Safe Delete Conflicts</code>. These conflicts describe locations in which the <code class="hljs inline no-lang">Address</code> class is used.</p> <p><a href="/tp/images/remove/SafeDeleteConflicts.png" target="_self"><img src="/tp/images/remove/SafeDeleteConflicts.png" alt="List of conflicts" class="img-fluid"></a></p> <p>Remove usages of <code class="hljs inline no-lang">Address</code> by performing <code class="hljs inline no-lang">Safe Delete</code>s on each entry i.e., double-click on the entry (which takes you to the code in concern, right-click on that entity, and choose <code class="hljs inline no-lang">Refactor</code> -&gt; <code class="hljs inline no-lang">Safe delete</code> as before). You will need to exercise discretion when removing usages of <code class="hljs inline no-lang">Address</code>. Functions like <code class="hljs inline no-lang">ParserUtil#parseAddress()</code> can be safely removed but its usages must be removed as well. Other usages like in <code class="hljs inline no-lang">EditPersonDescriptor</code> may require more careful inspection.</p> <p>Letâ€™s try removing references to <code class="hljs inline no-lang">Address</code> in <code class="hljs inline no-lang">EditPersonDescriptor</code>.</p> <ol><li><p>Safe delete the field <code class="hljs inline no-lang">address</code> in <code class="hljs inline no-lang">EditPersonDescriptor</code>.</p></li> <li><p>Select <code class="hljs inline no-lang">Yes</code> when prompted to remove getters and setters.</p></li> <li><p>Select <code class="hljs inline no-lang">View Usages</code> again.<br> <a href="/tp/images/remove/UnsafeDeleteOnField.png" target="_self"><img src="/tp/images/remove/UnsafeDeleteOnField.png" alt="UnsafeDeleteOnField" class="img-fluid"></a></p></li> <li><p>Remove the usages of <code class="hljs inline no-lang">address</code> and select <code class="hljs inline no-lang">Do refactor</code> when you are done.</p> <div class="alert box-container seamless" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><div class="icon-wrapper  text-success" data-v-4d146e2c><i class="fas fa-lightbulb" data-v-4d146e2c></i></div> <div aria-hidden="true" class="vertical-divider alert-success" data-v-4d146e2c></div> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c><strong data-v-4d146e2c>Tip:</strong> Removing usages may result in errors. Exercise discretion and fix them. For example, removing the <code class="hljs inline no-lang" data-v-4d146e2c>address</code> field from the <code class="hljs inline no-lang" data-v-4d146e2c>Person</code> class will require you to modify its constructor.</p></div> <!----></div></div></div></li> <li><p>Repeat the steps for the remaining usages of <code class="hljs inline no-lang">Address</code></p></li></ol> <p>After you are done, verify that the application still works by compiling and running it again.</p> <h3 id="manual-refactoring">Manual refactoring<a href="#manual-refactoring" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Unfortunately, there are usages of <code class="hljs inline no-lang">Address</code> that IntelliJ IDEA cannot identify. You can find them by searching for instances of the word <code class="hljs inline no-lang">address</code> in your code (<code class="hljs inline no-lang">Edit</code> &gt; <code class="hljs inline no-lang">Find</code> &gt; <code class="hljs inline no-lang">Find in path</code>).</p> <p>Places of interest to look out for would be resources used by the application. <code class="hljs inline no-lang">main/resources</code> contains images and <code class="hljs inline no-lang">fxml</code> files used by the application and <code class="hljs inline no-lang">test/resources</code> contains test data. For example, there is a <code class="hljs inline no-lang">$address</code> in each <code class="hljs inline no-lang">PersonCard</code> that has not been removed nor identified.</p> <p>![<eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>d</mi><mi>d</mi><mi>r</mi><mi>e</mi><mi>s</mi><mi>s</mi><mo stretchy="false">]</mo><mo stretchy="false">(</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">/</mi><mi>i</mi><mi>m</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi mathvariant="normal">/</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>o</mi><mi>v</mi><mi>e</mi><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex" v-pre="">address](../images/remove/</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">dd</span><span class="mord mathnormal">ress</span><span class="mclose">]</span><span class="mopen">(</span><span class="mord">../</span><span class="mord mathnormal">ima</span><span class="mord mathnormal">g</span><span class="mord mathnormal">es</span><span class="mord">/</span><span class="mord mathnormal">re</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">v</span><span class="mord mathnormal">e</span><span class="mord">/</span></span></span></span></eq>address.png)</p> <p>A quick look at the <code class="hljs inline no-lang">PersonCard</code> class and its <code class="hljs inline no-lang">fxml</code> file quickly reveals why it slipped past the automated refactoring.</p> <p><strong><code class="hljs inline no-lang">PersonCard.java</code></strong></p> <pre><code class="hljs java"><span>...
</span><span><span class="hljs-meta">@FXML</span>
</span><span><span class="hljs-keyword">private</span> Label address;
</span><span>...
</span></code></pre><p><strong><code class="hljs inline no-lang">PersonCard.fxml</code></strong></p> <pre><code class="hljs"><span>...
</span><span>&lt;Label fx:id=&quot;phone&quot; styleClass=&quot;cell_small_label&quot; text=&quot;\$phone&quot; /&gt;
</span><span>&lt;Label fx:id=&quot;address&quot; styleClass=&quot;cell_small_label&quot; text=&quot;\$address&quot; /&gt;
</span><span>&lt;Label fx:id=&quot;email&quot; styleClass=&quot;cell_small_label&quot; text=&quot;\$email&quot; /&gt;
</span><span>...
</span></code></pre><p>After removing the <code class="hljs inline no-lang">Label</code>, we can proceed to formally test our code. If everything went well, you should have most of your tests pass. Fix any remaining errors until the tests all pass.</p> <h2 id="tidying-up">Tidying up<a href="#tidying-up" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>At this point, your application is working as intended and all your tests are passing. Whatâ€™s left to do is to clean up references to <code class="hljs inline no-lang">Address</code> in test data and documentation.</p> <p>In <code class="hljs inline no-lang">src/test/data/</code>, data meant for testing purposes are stored. While keeping the <code class="hljs inline no-lang">address</code> field in the json files does not cause the tests to fail, it is not good practice to let cruft from old features accumulate.</p> <p><strong><code class="hljs inline no-lang">invalidPersonAddressBook.json</code>:</strong></p> <pre><code class="hljs json"><span>{
</span><span>  <span class="hljs-attr">&quot;persons&quot;</span>: [ {
</span><span>    <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;Person with invalid name field: Ha!ns Mu@ster&quot;</span>,
</span><span>    <span class="hljs-attr">&quot;phone&quot;</span>: <span class="hljs-string">&quot;9482424&quot;</span>,
</span><span>    <span class="hljs-attr">&quot;email&quot;</span>: <span class="hljs-string">&quot;hans@example.com&quot;</span>,
</span><span>    <span class="hljs-attr">&quot;address&quot;</span>: <span class="hljs-string">&quot;4th street&quot;</span>
</span><span>  } ]
</span><span>}
</span></code></pre><p>You can go through each individual <code class="hljs inline no-lang">json</code> file and manually remove the <code class="hljs inline no-lang">address</code> field.</p></div> <nav id="page-nav" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420><nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#tutorial-removing-fields" data-v-e6005420>Tutorial: Removing Fieldsâ€Ž</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#safely-deleting-address" data-v-e6005420>Safely deleting Addressâ€Ž</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#assisted-refactoring" data-v-e6005420>Assisted refactoringâ€Ž</a> <a class="nav-link py-1" href="#manual-refactoring" data-v-e6005420>Manual refactoringâ€Ž</a></nav> <a class="nav-link py-1" href="#tidying-up" data-v-e6005420>Tidying upâ€Ž</a></nav> <!----></nav></div> <!----></nav> <div aria-hidden="true" class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;"><i class="fas fa-arrow-circle-up"></i></div></div> <footer><div class="text-center"><small>[<span><strong>Powered by</strong></span> <img src="https://markbind.org/favicon.ico" width="30"> <a href="https://markbind.org/">MarkBind 5.3.0</a>, generated on Tue, 5 Mar 2024, 14:37:01 GMT+8]</small></div></footer></div>
</body><script src="/tp/markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
